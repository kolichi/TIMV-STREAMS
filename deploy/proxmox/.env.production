# Izwei Music Backend - Production Environment Variables
# Copy this file to /opt/izwei-music/.env and fill in your values

# ===================
# APP CONFIGURATION
# ===================
NODE_ENV=production
PORT=3001
APP_URL=https://izwei.iswe.co.zm
CORS_ORIGIN=https://izwei.iswe.co.zm

# App Name
APP_NAME="Izwei Music"

# ===================
# DATABASE
# ===================
# PostgreSQL on the same container
DATABASE_URL="postgresql://izwei:YOUR_SECURE_PASSWORD@localhost:5432/izwei_music?schema=public"

# ===================
# REDIS
# ===================
# Redis on the same container
REDIS_URL="redis://localhost:6379"

# ===================
# JWT AUTHENTICATION
# ===================
# Generate with: openssl rand -base64 64
JWT_SECRET="GENERATE_A_SECURE_64_CHAR_SECRET_HERE"
JWT_REFRESH_SECRET="GENERATE_ANOTHER_SECURE_64_CHAR_SECRET_HERE"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# ===================
# FACEBOOK OAUTH
# ===================
# Get these from https://developers.facebook.com/
FACEBOOK_APP_ID=""
FACEBOOK_APP_SECRET=""
FACEBOOK_CALLBACK_URL="https://backend-development.iswe.co.zm/api/auth/facebook/callback"

# ===================
# GOOGLE OAUTH (Optional)
# ===================
# Get these from https://console.developers.google.com/
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
GOOGLE_CALLBACK_URL="https://backend-development.iswe.co.zm/api/auth/google/callback"

# ===================
# EMAIL (Magic Links)
# ===================
# For Gmail, use an App Password: https://myaccount.google.com/apppasswords
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER=""
SMTP_PASS=""
EMAIL_FROM="noreply@iswe.co.zm"

# ===================
# FILE UPLOADS
# ===================
UPLOAD_DIR="/opt/izwei-music/uploads"
MAX_FILE_SIZE=104857600

# Allowed audio formats
ALLOWED_AUDIO_FORMATS="mp3,wav,flac,aac,ogg,m4a,opus,webm,aiff,wma"

# ===================
# AUDIO QUALITY (kbps)
# ===================
AUDIO_QUALITY_LOW=64
AUDIO_QUALITY_MEDIUM=128
AUDIO_QUALITY_HIGH=256
AUDIO_QUALITY_LOSSLESS=320

# ===================
# RATE LIMITING
# ===================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
